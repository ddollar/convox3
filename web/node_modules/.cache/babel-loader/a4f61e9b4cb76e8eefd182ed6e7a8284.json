{"remainingRequest":"/Users/david/Code/convox/console3/web/node_modules/thread-loader/dist/cjs.js!/Users/david/Code/convox/console3/web/node_modules/babel-loader/lib/index.js!/Users/david/Code/convox/console3/web/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/david/Code/convox/console3/web/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/david/Code/convox/console3/web/src/views/Organization/Racks.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/david/Code/convox/console3/web/src/views/Organization/Racks.vue","mtime":1596545592985},{"path":"/Users/david/Code/convox/console3/web/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/david/Code/convox/console3/web/node_modules/thread-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/david/Code/convox/console3/web/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/david/Code/convox/console3/web/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/david/Code/convox/console3/web/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmlsdGVyIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZyI7Ci8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCmltcG9ydCBPcmdhbml6YXRpb24gZnJvbSAiQC9taXhpbnMvT3JnYW5pemF0aW9uIjsKZXhwb3J0IGRlZmF1bHQgewogIGFwb2xsbzogewogICAgaW50ZWdyYXRpb25zOiB7CiAgICAgIHF1ZXJ5OiByZXF1aXJlKCJAL3F1ZXJpZXMvSW50ZWdyYXRpb25zLmdyYXBocWwiKSwKICAgICAgc2tpcDogZnVuY3Rpb24gc2tpcCgpIHsKICAgICAgICByZXR1cm4gIXRoaXMub3JnYW5pemF0aW9uLmlkOwogICAgICB9LAogICAgICB1cGRhdGU6IGZ1bmN0aW9uIHVwZGF0ZShkYXRhKSB7CiAgICAgICAgdmFyIF9kYXRhJG9yZ2FuaXphdGlvbjsKCiAgICAgICAgcmV0dXJuIChfZGF0YSRvcmdhbml6YXRpb24gPSBkYXRhLm9yZ2FuaXphdGlvbikgPT09IG51bGwgfHwgX2RhdGEkb3JnYW5pemF0aW9uID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfZGF0YSRvcmdhbml6YXRpb24uaW50ZWdyYXRpb25zOwogICAgICB9LAogICAgICB2YXJpYWJsZXM6IGZ1bmN0aW9uIHZhcmlhYmxlcygpIHsKICAgICAgICByZXR1cm4gewogICAgICAgICAga2luZDogInJ1bnRpbWUiLAogICAgICAgICAgb2lkOiB0aGlzLm9yZ2FuaXphdGlvbi5pZAogICAgICAgIH07CiAgICAgIH0KICAgIH0sCiAgICByYWNrczogewogICAgICBxdWVyeTogcmVxdWlyZSgiQC9xdWVyaWVzL1JhY2tzLmdyYXBocWwiKSwKICAgICAgc2tpcDogZnVuY3Rpb24gc2tpcCgpIHsKICAgICAgICByZXR1cm4gIXRoaXMub3JnYW5pemF0aW9uLmlkOwogICAgICB9LAogICAgICB1cGRhdGU6IGZ1bmN0aW9uIHVwZGF0ZShkYXRhKSB7CiAgICAgICAgdmFyIF9kYXRhJG9yZ2FuaXphdGlvbjI7CgogICAgICAgIHJldHVybiAoX2RhdGEkb3JnYW5pemF0aW9uMiA9IGRhdGEub3JnYW5pemF0aW9uKSA9PT0gbnVsbCB8fCBfZGF0YSRvcmdhbml6YXRpb24yID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfZGF0YSRvcmdhbml6YXRpb24yLnJhY2tzOwogICAgICB9LAogICAgICB2YXJpYWJsZXM6IGZ1bmN0aW9uIHZhcmlhYmxlcygpIHsKICAgICAgICByZXR1cm4gewogICAgICAgICAgb2lkOiB0aGlzLm9yZ2FuaXphdGlvbi5pZAogICAgICAgIH07CiAgICAgIH0KICAgIH0KICB9LAogIGNvbXBvbmVudHM6IHsKICAgIFByb3ZpZGVyOiBmdW5jdGlvbiBQcm92aWRlcigpIHsKICAgICAgcmV0dXJuIGltcG9ydCgiQC9jb21wb25lbnRzL1Byb3ZpZGVyIik7CiAgICB9LAogICAgUmFjazogZnVuY3Rpb24gUmFjaygpIHsKICAgICAgcmV0dXJuIGltcG9ydCgiQC9jb21wb25lbnRzL1JhY2siKTsKICAgIH0KICB9LAogIGNvbXB1dGVkOiB7CiAgICBmaWx0ZXJlZFJhY2tzOiBmdW5jdGlvbiBmaWx0ZXJlZFJhY2tzKCkgewogICAgICB2YXIgX3RoaXMkcmFja3MsCiAgICAgICAgICBfdGhpcyA9IHRoaXM7CgogICAgICByZXR1cm4gKF90aGlzJHJhY2tzID0gdGhpcy5yYWNrcykgPT09IG51bGwgfHwgX3RoaXMkcmFja3MgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF90aGlzJHJhY2tzLmZpbHRlcihmdW5jdGlvbiAocmFjaykgewogICAgICAgIHJldHVybiBfdGhpcy5ydW50aW1lID09PSBudWxsID8gdHJ1ZSA6IHJhY2sucnVudGltZSA9PSBfdGhpcy5ydW50aW1lLmlkOwogICAgICB9KTsKICAgIH0KICB9LAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBydW50aW1lOiBudWxsCiAgICB9OwogIH0sCiAgbWV0aG9kczogewogICAgZXhwYW5kZWQ6IGZ1bmN0aW9uIGV4cGFuZGVkKHJpZCkgewogICAgICByZXR1cm4gdGhpcy4kcm91dGUucGFyYW1zLnJpZCA9PSByaWQgJiYgdGhpcy4kcm91dGUubWV0YS5leHBhbmQ7CiAgICB9LAogICAgZmlsdGVyOiBmdW5jdGlvbiBmaWx0ZXIoaWlkKSB7CiAgICAgIHRoaXMucnVudGltZSA9IGlpZDsKICAgIH0sCiAgICBzZXR0aW5nczogZnVuY3Rpb24gc2V0dGluZ3MocmlkKSB7CiAgICAgIHRoaXMuJHJvdXRlci5wdXNoKHsKICAgICAgICBuYW1lOiAib3JnYW5pemF0aW9uL3JhY2svc2V0dGluZ3MiLAogICAgICAgIHBhcmFtczogewogICAgICAgICAgb2lkOiB0aGlzLm9yZ2FuaXphdGlvbi5pZCwKICAgICAgICAgIHJpZDogcmlkCiAgICAgICAgfQogICAgICB9KTsKICAgIH0sCiAgICB0b2dnbGU6IGZ1bmN0aW9uIHRvZ2dsZShyaWQpIHsKICAgICAgaWYgKHRoaXMuZXhwYW5kZWQocmlkKSkgewogICAgICAgIHRoaXMuJHJvdXRlci5wdXNoKHsKICAgICAgICAgIG5hbWU6ICJvcmdhbml6YXRpb24vcmFja3MiLAogICAgICAgICAgcGFyYW1zOiB7CiAgICAgICAgICAgIG9pZDogdGhpcy5vcmdhbml6YXRpb24uaWQKICAgICAgICAgIH0KICAgICAgICB9KTsKICAgICAgfSBlbHNlIHsKICAgICAgICB0aGlzLiRyb3V0ZXIucHVzaCh7CiAgICAgICAgICBuYW1lOiAib3JnYW5pemF0aW9uL3JhY2svYXBwcyIsCiAgICAgICAgICBwYXJhbXM6IHsKICAgICAgICAgICAgb2lkOiB0aGlzLm9yZ2FuaXphdGlvbi5pZCwKICAgICAgICAgICAgcmlkOiByaWQKICAgICAgICAgIH0KICAgICAgICB9KTsKICAgICAgfQogICAgfQogIH0sCiAgbWl4aW5zOiBbT3JnYW5pemF0aW9uXQp9Ow=="},{"version":3,"sources":["Racks.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n  <div class=\"row\">\n    <div class=\"col-12 d-flex mb-4\">\n      <div class=\"flex-grow-1\">\n        <span class=\"dropdown mr-2\">\n          <button class=\"btn btn-secondary dropdown-toggle\" type=\"button\" id=\"dropdownMenuButton\" data-toggle=\"dropdown\">\n            <Provider v-if=\"runtime\" :kind=\"runtime.provider\" :text=\"runtime.title\" />\n            <span v-else>All Racks</span>\n          </button>\n          <div class=\"dropdown-menu\">\n            <a class=\"dropdown-item\" @click=\"filter(null)\" href=\"#\">All Racks</a>\n            <div v-if=\"integrations.length > 0\">\n              <div class=\"dropdown-divider\"></div>\n              <a v-for=\"integration in integrations\" :key=\"integration.id\" class=\"dropdown-item\" @click=\"filter(integration)\" href=\"#\">\n                <Provider :kind=\"integration.provider\" :text=\"integration.title\" />\n              </a>\n            </div>\n          </div>\n        </span>\n      </div>\n      <div class=\"flex-shrink-0\">\n        <div class=\"dropdown\">\n          <button class=\"btn btn-success dropdown-toggle\" type=\"button\" data-toggle=\"dropdown\">\n            <i class=\"fas fa-cloud-upload-alt mr-1\" aria-hidden=\"true\"></i>\n            Install\n          </button>\n          <div class=\"dropdown-menu dropdown-menu-right\">\n            <div v-if=\"integrations.length == 0\" class=\"dropdown-item\">No Runtime Integrations</div>\n            <div v-else>\n              <a v-for=\"integration in integrations\" :key=\"integration.id\" class=\"dropdown-item\" href=\"#\">\n                <Provider :kind=\"integration.provider\" :text=\"integration.title\" />\n              </a>\n            </div>\n          </div>\n          <a class=\"btn btn-success ml-2\" href=\"#\" data-toggle=\"modal\" data-target=\"#rack-add-manual\">\n            <i class=\"fas fa-plus-circle mr-1\"></i>\n            Import\n          </a>\n        </div>\n      </div>\n    </div>\n    <div v-if=\"filteredRacks.length == 0\" class=\"col-12\">\n      <div class=\"card\">\n        <div class=\"card-body\">No Racks Found</div>\n      </div>\n    </div>\n    <Rack v-else v-for=\"rack in filteredRacks\" :key=\"rack.id\" :rack=\"rack\" />\n  </div>\n</template>\n\n<style lang=\"scss\" src=\"@/styles/rack.scss\"></style>\n\n<script>\nimport Organization from \"@/mixins/Organization\";\n\nexport default {\n  apollo: {\n    integrations: {\n      query: require(\"@/queries/Integrations.graphql\"),\n      skip() {\n        return !this.organization.id;\n      },\n      update: (data) => data.organization?.integrations,\n      variables() {\n        return {\n          kind: \"runtime\",\n          oid: this.organization.id,\n        };\n      },\n    },\n    racks: {\n      query: require(\"@/queries/Racks.graphql\"),\n      skip() {\n        return !this.organization.id;\n      },\n      update: (data) => data.organization?.racks,\n      variables() {\n        return {\n          oid: this.organization.id,\n        };\n      },\n    },\n  },\n  components: {\n    Provider: () => import(\"@/components/Provider\"),\n    Rack: () => import(\"@/components/Rack\"),\n  },\n  computed: {\n    filteredRacks() {\n      return this.racks?.filter((rack) => {\n        return this.runtime === null ? true : rack.runtime == this.runtime.id;\n      });\n    },\n  },\n  data: function() {\n    return {\n      runtime: null,\n    };\n  },\n  methods: {\n    expanded(rid) {\n      return this.$route.params.rid == rid && this.$route.meta.expand;\n    },\n    filter(iid) {\n      this.runtime = iid;\n    },\n    settings(rid) {\n      this.$router.push({\n        name: \"organization/rack/settings\",\n        params: { oid: this.organization.id, rid: rid },\n      });\n    },\n    toggle(rid) {\n      if (this.expanded(rid)) {\n        this.$router.push({\n          name: \"organization/racks\",\n          params: { oid: this.organization.id },\n        });\n      } else {\n        this.$router.push({\n          name: \"organization/rack/apps\",\n          params: { oid: this.organization.id, rid: rid },\n        });\n      }\n    },\n  },\n  mixins: [Organization],\n};\n</script>\n"],"sourceRoot":"src/views/Organization"}]}