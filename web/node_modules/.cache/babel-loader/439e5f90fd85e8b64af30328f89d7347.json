{"remainingRequest":"/Users/david/Code/convox/console3/web/node_modules/babel-loader/lib/index.js!/Users/david/Code/convox/console3/web/node_modules/eslint-loader/index.js??ref--13-0!/Users/david/Code/convox/console3/web/src/router/index.js","dependencies":[{"path":"/Users/david/Code/convox/console3/web/src/router/index.js","mtime":1596493788982},{"path":"/Users/david/Code/convox/console3/web/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/david/Code/convox/console3/web/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/david/Code/convox/console3/web/node_modules/eslint-loader/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJyZWdlbmVyYXRvci1ydW50aW1lL3J1bnRpbWUiOwppbXBvcnQgX2FzeW5jVG9HZW5lcmF0b3IgZnJvbSAiL1VzZXJzL2RhdmlkL0NvZGUvY29udm94L2NvbnNvbGUzL3dlYi9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vYXN5bmNUb0dlbmVyYXRvciI7CmltcG9ydCBWdWUgZnJvbSAidnVlIjsKaW1wb3J0IFZ1ZVJvdXRlciBmcm9tICJ2dWUtcm91dGVyIjsKaW1wb3J0IEhvbWUgZnJvbSAiQC92aWV3cy9Ib21lLnZ1ZSI7CmltcG9ydCBUZXN0IGZyb20gIkAvdmlld3MvVGVzdC52dWUiOwppbXBvcnQgUHVibGljIGZyb20gIkAvdmlld3MvUHVibGljLnZ1ZSI7CmltcG9ydCBMb2dpbiBmcm9tICJAL3ZpZXdzL1B1YmxpYy9Mb2dpbi52dWUiOwppbXBvcnQgT3JnYW5pemF0aW9uIGZyb20gIkAvdmlld3MvT3JnYW5pemF0aW9uLnZ1ZSI7CmltcG9ydCBCbGFuayBmcm9tICJAL3ZpZXdzL09yZ2FuaXphdGlvbi9CbGFuay52dWUiOwppbXBvcnQgUmFjayBmcm9tICJAL3ZpZXdzL09yZ2FuaXphdGlvbi9SYWNrLnZ1ZSI7CmltcG9ydCBSYWNrcyBmcm9tICJAL3ZpZXdzL09yZ2FuaXphdGlvbi9SYWNrcy52dWUiOwpWdWUudXNlKFZ1ZVJvdXRlcik7CnZhciByb3V0ZXMgPSBbewogIHBhdGg6ICIvIiwKICBuYW1lOiAiaG9tZSIsCiAgY29tcG9uZW50OiBIb21lLAogIG1ldGE6IHsKICAgIHB1YmxpYzogdHJ1ZQogIH0KfSwgewogIHBhdGg6ICIvIiwKICBjb21wb25lbnQ6IFB1YmxpYywKICBjaGlsZHJlbjogW3sKICAgIHBhdGg6ICIvbG9naW4iLAogICAgbmFtZTogImxvZ2luIiwKICAgIGNvbXBvbmVudDogTG9naW4sCiAgICBtZXRhOiB7CiAgICAgIHB1YmxpYzogdHJ1ZQogICAgfQogIH1dCn0sIC8vIHsKLy8gICBwYXRoOiAiL2Fib3V0IiwKLy8gICBuYW1lOiAiQWJvdXQiLAovLyAgIC8vIHJvdXRlIGxldmVsIGNvZGUtc3BsaXR0aW5nCi8vICAgLy8gdGhpcyBnZW5lcmF0ZXMgYSBzZXBhcmF0ZSBjaHVuayAoYWJvdXQuW2hhc2hdLmpzKSBmb3IgdGhpcyByb3V0ZQovLyAgIC8vIHdoaWNoIGlzIGxhenktbG9hZGVkIHdoZW4gdGhlIHJvdXRlIGlzIHZpc2l0ZWQuCi8vICAgY29tcG9uZW50OiAoKSA9PgovLyAgICAgaW1wb3J0KC8qIHdlYnBhY2tDaHVua05hbWU6ICJhYm91dCIgKi8gIi4uL3ZpZXdzL0Fib3V0LnZ1ZSIpCi8vIH0sCnsKICBwYXRoOiAiL3Rlc3QiLAogIG5hbWU6ICJUZXN0IiwKICBjb21wb25lbnQ6IFRlc3QKfSwgewogIHBhdGg6ICIvb3JnYW5pemF0aW9ucy86b2lkIiwKICBuYW1lOiAib3JnYW5pemF0aW9uIiwKICBjb21wb25lbnQ6IE9yZ2FuaXphdGlvbiwKICBjaGlsZHJlbjogW3sKICAgIHBhdGg6ICJhdWRpdHMiLAogICAgbmFtZTogIm9yZ2FuaXphdGlvbi9hdWRpdHMiLAogICAgY29tcG9uZW50OiBCbGFuaywKICAgIG1ldGE6IHsKICAgICAgcm9sZTogIm9wZXJhdG9yIgogICAgfQogIH0sIHsKICAgIHBhdGg6ICJiaWxsaW5nIiwKICAgIG5hbWU6ICJvcmdhbml6YXRpb24vYmlsbGluZyIsCiAgICBjb21wb25lbnQ6IEJsYW5rLAogICAgbWV0YTogewogICAgICByb2xlOiAiYWRtaW5pc3RyYXRvciIKICAgIH0KICB9LCB7CiAgICBwYXRoOiAiaW50ZWdyYXRpb25zIiwKICAgIG5hbWU6ICJvcmdhbml6YXRpb24vaW50ZWdyYXRpb25zIiwKICAgIGNvbXBvbmVudDogQmxhbmssCiAgICBtZXRhOiB7CiAgICAgIHJvbGU6ICJvcGVyYXRvciIKICAgIH0KICB9LCB7CiAgICBwYXRoOiAiam9icyIsCiAgICBuYW1lOiAib3JnYW5pemF0aW9uL2pvYnMiLAogICAgY29tcG9uZW50OiBCbGFuaywKICAgIG1ldGE6IHsKICAgICAgcm9sZTogImRldmVsb3BlciIKICAgIH0KICB9LCB7CiAgICBwYXRoOiAicmFja3MiLAogICAgbmFtZTogIm9yZ2FuaXphdGlvbi9yYWNrcyIsCiAgICBjb21wb25lbnQ6IFJhY2tzLAogICAgbWV0YTogewogICAgICByb2xlOiAiZGV2ZWxvcGVyIgogICAgfQogIH0sIHsKICAgIHBhdGg6ICJyYWNrcy86cmlkIiwKICAgIG5hbWU6ICJvcmdhbml6YXRpb24vcmFjayIsCiAgICBjb21wb25lbnQ6IFJhY2ssCiAgICBjaGlsZHJlbjogW3sKICAgICAgcGF0aDogImFwcHMiLAogICAgICBuYW1lOiAib3JnYW5pemF0aW9uL3JhY2svYXBwcyIsCiAgICAgIGNvbXBvbmVudDogQmxhbmssCiAgICAgIG1ldGE6IHsKICAgICAgICBleHBhbmQ6IHRydWUsCiAgICAgICAgcm9sZTogImRldmVsb3BlciIKICAgICAgfQogICAgfSwgewogICAgICBwYXRoOiAiaW5zdGFuY2VzIiwKICAgICAgbmFtZTogIm9yZ2FuaXphdGlvbi9yYWNrL2luc3RhbmNlcyIsCiAgICAgIGNvbXBvbmVudDogQmxhbmssCiAgICAgIG1ldGE6IHsKICAgICAgICBleHBhbmQ6IHRydWUsCiAgICAgICAgcm9sZTogImRldmVsb3BlciIKICAgICAgfQogICAgfSwgewogICAgICBwYXRoOiAicmVzb3VyY2VzIiwKICAgICAgbmFtZTogIm9yZ2FuaXphdGlvbi9yYWNrL3Jlc291cmNlcyIsCiAgICAgIGNvbXBvbmVudDogQmxhbmssCiAgICAgIG1ldGE6IHsKICAgICAgICBleHBhbmQ6IHRydWUsCiAgICAgICAgcm9sZTogImRldmVsb3BlciIKICAgICAgfQogICAgfSwgewogICAgICBwYXRoOiAic2V0dGluZ3MiLAogICAgICBuYW1lOiAib3JnYW5pemF0aW9uL3JhY2svc2V0dGluZ3MiLAogICAgICBjb21wb25lbnQ6IEJsYW5rLAogICAgICBtZXRhOiB7CiAgICAgICAgcm9sZTogImRldmVsb3BlciIKICAgICAgfQogICAgfSwgewogICAgICBwYXRoOiAidXBkYXRlcyIsCiAgICAgIG5hbWU6ICJvcmdhbml6YXRpb24vcmFjay91cGRhdGVzIiwKICAgICAgY29tcG9uZW50OiBCbGFuaywKICAgICAgbWV0YTogewogICAgICAgIGV4cGFuZDogdHJ1ZSwKICAgICAgICByb2xlOiAiZGV2ZWxvcGVyIgogICAgICB9CiAgICB9XQogIH0sIHsKICAgIHBhdGg6ICJzZXR0aW5ncyIsCiAgICBuYW1lOiAib3JnYW5pemF0aW9uL3NldHRpbmdzIiwKICAgIGNvbXBvbmVudDogQmxhbmssCiAgICBtZXRhOiB7CiAgICAgIHJvbGU6ICJhZG1pbmlzdHJhdG9yIgogICAgfQogIH0sIHsKICAgIHBhdGg6ICJzdXBwb3J0IiwKICAgIG5hbWU6ICJvcmdhbml6YXRpb24vc3VwcG9ydCIsCiAgICBjb21wb25lbnQ6IEJsYW5rLAogICAgbWV0YTogewogICAgICByb2xlOiAiZGV2ZWxvcGVyIgogICAgfQogIH0sIHsKICAgIHBhdGg6ICJ1c2VycyIsCiAgICBuYW1lOiAib3JnYW5pemF0aW9uL3VzZXJzIiwKICAgIGNvbXBvbmVudDogQmxhbmssCiAgICBtZXRhOiB7CiAgICAgIHJvbGU6ICJhZG1pbmlzdHJhdG9yIgogICAgfQogIH0sIHsKICAgIHBhdGg6ICJ3b3JrZmxvd3MiLAogICAgbmFtZTogIm9yZ2FuaXphdGlvbi93b3JrZmxvd3MiLAogICAgY29tcG9uZW50OiBCbGFuaywKICAgIG1ldGE6IHsKICAgICAgcm9sZTogIm9wZXJhdG9yIgogICAgfQogIH1dCn1dOwp2YXIgcm91dGVyID0gbmV3IFZ1ZVJvdXRlcih7CiAgYmFzZTogcHJvY2Vzcy5lbnYuQkFTRV9VUkwsCiAgbGlua0FjdGl2ZUNsYXNzOiAiYWN0aXZlIiwKICBtb2RlOiAiaGlzdG9yeSIsCiAgcm91dGVzOiByb3V0ZXMKfSk7CmV4cG9ydCBkZWZhdWx0IHJvdXRlcjsKaW1wb3J0IHsgYWNjZXNzaWJsZSB9IGZyb20gIkAvc2NyaXB0cy9hY2Nlc3MiOwppbXBvcnQgeyBjcmVhdGVQcm92aWRlciB9IGZyb20gIkAvdnVlLWFwb2xsbyI7CmltcG9ydCBzdG9yZSBmcm9tICJAL3N0b3JlIjsKdmFyIGFwb2xsbyA9IGNyZWF0ZVByb3ZpZGVyKCkuZGVmYXVsdENsaWVudDsKcm91dGVyLmJlZm9yZUVhY2goIC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoKSB7CiAgdmFyIF9yZWYgPSBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUodG8sIGZyb20sIG5leHQpIHsKICAgIHZhciBvcmdhbml6YXRpb247CiAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZSQoX2NvbnRleHQpIHsKICAgICAgd2hpbGUgKDEpIHsKICAgICAgICBzd2l0Y2ggKF9jb250ZXh0LnByZXYgPSBfY29udGV4dC5uZXh0KSB7CiAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgIGlmICghdG8ubWV0YS5wdWJsaWMpIHsKICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMjsKICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LmFicnVwdCgicmV0dXJuIiwgbmV4dCgpKTsKCiAgICAgICAgICBjYXNlIDI6CiAgICAgICAgICAgIGNvbnNvbGUubG9nKCJzdG9yZS5nZXR0ZXJzLnRva2VuIiwgc3RvcmUuZ2V0dGVycy50b2tlbik7CiAgICAgICAgICAgIF9jb250ZXh0LnByZXYgPSAzOwoKICAgICAgICAgICAgaWYgKHRvLnBhcmFtcy5vaWQpIHsKICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gNjsKICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LmFicnVwdCgicmV0dXJuIiwgbmV4dCh7CiAgICAgICAgICAgICAgbmFtZTogImxvZ2luIgogICAgICAgICAgICB9KSk7CgogICAgICAgICAgY2FzZSA2OgogICAgICAgICAgICBpZiAoc3RvcmUuZ2V0dGVycy5hdXRoZW50aWNhdGVkKSB7CiAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDg7CiAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5hYnJ1cHQoInJldHVybiIsIG5leHQoewogICAgICAgICAgICAgIG5hbWU6ICJsb2dpbiIKICAgICAgICAgICAgfSkpOwoKICAgICAgICAgIGNhc2UgODoKICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDEwOwogICAgICAgICAgICByZXR1cm4gYXBvbGxvLnF1ZXJ5KHsKICAgICAgICAgICAgICBxdWVyeTogcmVxdWlyZSgiQC9xdWVyaWVzL09yZ2FuaXphdGlvbi5ncmFwaHFsIiksCiAgICAgICAgICAgICAgdmFyaWFibGVzOiB7CiAgICAgICAgICAgICAgICBpZDogdG8ucGFyYW1zLm9pZAogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSk7CgogICAgICAgICAgY2FzZSAxMDoKICAgICAgICAgICAgb3JnYW5pemF0aW9uID0gX2NvbnRleHQuc2VudC5kYXRhLm9yZ2FuaXphdGlvbjsKCiAgICAgICAgICAgIGlmIChhY2Nlc3NpYmxlKHRvLm1ldGEucm9sZSwgb3JnYW5pemF0aW9uLmFjY2VzcykpIHsKICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMTM7CiAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5hYnJ1cHQoInJldHVybiIsIG5leHQoewogICAgICAgICAgICAgIG5hbWU6ICJvcmdhbml6YXRpb24vcmFja3MiLAogICAgICAgICAgICAgIHBhcmFtczogewogICAgICAgICAgICAgICAgb2lkOiBvcmdhbml6YXRpb24uaWQKICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0pKTsKCiAgICAgICAgICBjYXNlIDEzOgogICAgICAgICAgICBuZXh0KCk7CiAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAxOTsKICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgY2FzZSAxNjoKICAgICAgICAgICAgX2NvbnRleHQucHJldiA9IDE2OwogICAgICAgICAgICBfY29udGV4dC50MCA9IF9jb250ZXh0WyJjYXRjaCJdKDMpOwogICAgICAgICAgICBuZXh0KHsKICAgICAgICAgICAgICBuYW1lOiAibG9naW4iCiAgICAgICAgICAgIH0pOwoKICAgICAgICAgIGNhc2UgMTk6CiAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuc3RvcCgpOwogICAgICAgIH0KICAgICAgfQogICAgfSwgX2NhbGxlZSwgbnVsbCwgW1szLCAxNl1dKTsKICB9KSk7CgogIHJldHVybiBmdW5jdGlvbiAoX3gsIF94MiwgX3gzKSB7CiAgICByZXR1cm4gX3JlZi5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwogIH07Cn0oKSk7"},{"version":3,"sources":["/Users/david/Code/convox/console3/web/src/router/index.js"],"names":["Vue","VueRouter","Home","Test","Public","Login","Organization","Blank","Rack","Racks","use","routes","path","name","component","meta","public","children","role","expand","router","base","process","env","BASE_URL","linkActiveClass","mode","accessible","createProvider","store","apollo","defaultClient","beforeEach","to","from","next","console","log","getters","token","params","oid","authenticated","query","require","variables","id","organization","data","access"],"mappings":";;AAAA,OAAOA,GAAP,MAAgB,KAAhB;AACA,OAAOC,SAAP,MAAsB,YAAtB;AAEA,OAAOC,IAAP,MAAiB,kBAAjB;AACA,OAAOC,IAAP,MAAiB,kBAAjB;AAEA,OAAOC,MAAP,MAAmB,oBAAnB;AACA,OAAOC,KAAP,MAAkB,0BAAlB;AAEA,OAAOC,YAAP,MAAyB,0BAAzB;AACA,OAAOC,KAAP,MAAkB,gCAAlB;AACA,OAAOC,IAAP,MAAiB,+BAAjB;AACA,OAAOC,KAAP,MAAkB,gCAAlB;AAEAT,GAAG,CAACU,GAAJ,CAAQT,SAAR;AAEA,IAAMU,MAAM,GAAG,CACb;AACEC,EAAAA,IAAI,EAAE,GADR;AAEEC,EAAAA,IAAI,EAAE,MAFR;AAGEC,EAAAA,SAAS,EAAEZ,IAHb;AAIEa,EAAAA,IAAI,EAAE;AAAEC,IAAAA,MAAM,EAAE;AAAV;AAJR,CADa,EAOb;AACEJ,EAAAA,IAAI,EAAE,GADR;AAEEE,EAAAA,SAAS,EAAEV,MAFb;AAGEa,EAAAA,QAAQ,EAAE,CACR;AACEL,IAAAA,IAAI,EAAE,QADR;AAEEC,IAAAA,IAAI,EAAE,OAFR;AAGEC,IAAAA,SAAS,EAAET,KAHb;AAIEU,IAAAA,IAAI,EAAE;AAAEC,MAAAA,MAAM,EAAE;AAAV;AAJR,GADQ;AAHZ,CAPa,EAmBb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACEJ,EAAAA,IAAI,EAAE,OADR;AAEEC,EAAAA,IAAI,EAAE,MAFR;AAGEC,EAAAA,SAAS,EAAEX;AAHb,CA5Ba,EAiCb;AACES,EAAAA,IAAI,EAAE,qBADR;AAEEC,EAAAA,IAAI,EAAE,cAFR;AAGEC,EAAAA,SAAS,EAAER,YAHb;AAIEW,EAAAA,QAAQ,EAAE,CACR;AACEL,IAAAA,IAAI,EAAE,QADR;AAEEC,IAAAA,IAAI,EAAE,qBAFR;AAGEC,IAAAA,SAAS,EAAEP,KAHb;AAIEQ,IAAAA,IAAI,EAAE;AAAEG,MAAAA,IAAI,EAAE;AAAR;AAJR,GADQ,EAOR;AACEN,IAAAA,IAAI,EAAE,SADR;AAEEC,IAAAA,IAAI,EAAE,sBAFR;AAGEC,IAAAA,SAAS,EAAEP,KAHb;AAIEQ,IAAAA,IAAI,EAAE;AAAEG,MAAAA,IAAI,EAAE;AAAR;AAJR,GAPQ,EAaR;AACEN,IAAAA,IAAI,EAAE,cADR;AAEEC,IAAAA,IAAI,EAAE,2BAFR;AAGEC,IAAAA,SAAS,EAAEP,KAHb;AAIEQ,IAAAA,IAAI,EAAE;AAAEG,MAAAA,IAAI,EAAE;AAAR;AAJR,GAbQ,EAmBR;AACEN,IAAAA,IAAI,EAAE,MADR;AAEEC,IAAAA,IAAI,EAAE,mBAFR;AAGEC,IAAAA,SAAS,EAAEP,KAHb;AAIEQ,IAAAA,IAAI,EAAE;AAAEG,MAAAA,IAAI,EAAE;AAAR;AAJR,GAnBQ,EAyBR;AACEN,IAAAA,IAAI,EAAE,OADR;AAEEC,IAAAA,IAAI,EAAE,oBAFR;AAGEC,IAAAA,SAAS,EAAEL,KAHb;AAIEM,IAAAA,IAAI,EAAE;AAAEG,MAAAA,IAAI,EAAE;AAAR;AAJR,GAzBQ,EA+BR;AACEN,IAAAA,IAAI,EAAE,YADR;AAEEC,IAAAA,IAAI,EAAE,mBAFR;AAGEC,IAAAA,SAAS,EAAEN,IAHb;AAIES,IAAAA,QAAQ,EAAE,CACR;AACEL,MAAAA,IAAI,EAAE,MADR;AAEEC,MAAAA,IAAI,EAAE,wBAFR;AAGEC,MAAAA,SAAS,EAAEP,KAHb;AAIEQ,MAAAA,IAAI,EAAE;AAAEI,QAAAA,MAAM,EAAE,IAAV;AAAgBD,QAAAA,IAAI,EAAE;AAAtB;AAJR,KADQ,EAOR;AACEN,MAAAA,IAAI,EAAE,WADR;AAEEC,MAAAA,IAAI,EAAE,6BAFR;AAGEC,MAAAA,SAAS,EAAEP,KAHb;AAIEQ,MAAAA,IAAI,EAAE;AAAEI,QAAAA,MAAM,EAAE,IAAV;AAAgBD,QAAAA,IAAI,EAAE;AAAtB;AAJR,KAPQ,EAaR;AACEN,MAAAA,IAAI,EAAE,WADR;AAEEC,MAAAA,IAAI,EAAE,6BAFR;AAGEC,MAAAA,SAAS,EAAEP,KAHb;AAIEQ,MAAAA,IAAI,EAAE;AAAEI,QAAAA,MAAM,EAAE,IAAV;AAAgBD,QAAAA,IAAI,EAAE;AAAtB;AAJR,KAbQ,EAmBR;AACEN,MAAAA,IAAI,EAAE,UADR;AAEEC,MAAAA,IAAI,EAAE,4BAFR;AAGEC,MAAAA,SAAS,EAAEP,KAHb;AAIEQ,MAAAA,IAAI,EAAE;AAAEG,QAAAA,IAAI,EAAE;AAAR;AAJR,KAnBQ,EAyBR;AACEN,MAAAA,IAAI,EAAE,SADR;AAEEC,MAAAA,IAAI,EAAE,2BAFR;AAGEC,MAAAA,SAAS,EAAEP,KAHb;AAIEQ,MAAAA,IAAI,EAAE;AAAEI,QAAAA,MAAM,EAAE,IAAV;AAAgBD,QAAAA,IAAI,EAAE;AAAtB;AAJR,KAzBQ;AAJZ,GA/BQ,EAoER;AACEN,IAAAA,IAAI,EAAE,UADR;AAEEC,IAAAA,IAAI,EAAE,uBAFR;AAGEC,IAAAA,SAAS,EAAEP,KAHb;AAIEQ,IAAAA,IAAI,EAAE;AAAEG,MAAAA,IAAI,EAAE;AAAR;AAJR,GApEQ,EA0ER;AACEN,IAAAA,IAAI,EAAE,SADR;AAEEC,IAAAA,IAAI,EAAE,sBAFR;AAGEC,IAAAA,SAAS,EAAEP,KAHb;AAIEQ,IAAAA,IAAI,EAAE;AAAEG,MAAAA,IAAI,EAAE;AAAR;AAJR,GA1EQ,EAgFR;AACEN,IAAAA,IAAI,EAAE,OADR;AAEEC,IAAAA,IAAI,EAAE,oBAFR;AAGEC,IAAAA,SAAS,EAAEP,KAHb;AAIEQ,IAAAA,IAAI,EAAE;AAAEG,MAAAA,IAAI,EAAE;AAAR;AAJR,GAhFQ,EAsFR;AACEN,IAAAA,IAAI,EAAE,WADR;AAEEC,IAAAA,IAAI,EAAE,wBAFR;AAGEC,IAAAA,SAAS,EAAEP,KAHb;AAIEQ,IAAAA,IAAI,EAAE;AAAEG,MAAAA,IAAI,EAAE;AAAR;AAJR,GAtFQ;AAJZ,CAjCa,CAAf;AAqIA,IAAME,MAAM,GAAG,IAAInB,SAAJ,CAAc;AAC3BoB,EAAAA,IAAI,EAAEC,OAAO,CAACC,GAAR,CAAYC,QADS;AAE3BC,EAAAA,eAAe,EAAE,QAFU;AAG3BC,EAAAA,IAAI,EAAE,SAHqB;AAI3Bf,EAAAA,MAAM,EAANA;AAJ2B,CAAd,CAAf;AAOA,eAAeS,MAAf;AAEA,SAASO,UAAT,QAA2B,kBAA3B;AACA,SAASC,cAAT,QAA+B,cAA/B;AACA,OAAOC,KAAP,MAAkB,SAAlB;AAEA,IAAMC,MAAM,GAAGF,cAAc,GAAGG,aAAhC;AAEAX,MAAM,CAACY,UAAP;AAAA,qEAAkB,iBAAOC,EAAP,EAAWC,IAAX,EAAiBC,IAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iBACZF,EAAE,CAAClB,IAAH,CAAQC,MADI;AAAA;AAAA;AAAA;;AAAA,6CAEPmB,IAAI,EAFG;;AAAA;AAIhBC,YAAAA,OAAO,CAACC,GAAR,CAAY,qBAAZ,EAAmCR,KAAK,CAACS,OAAN,CAAcC,KAAjD;AAJgB;;AAAA,gBAOTN,EAAE,CAACO,MAAH,CAAUC,GAPD;AAAA;AAAA;AAAA;;AAAA,6CAQLN,IAAI,CAAC;AAAEtB,cAAAA,IAAI,EAAE;AAAR,aAAD,CARC;;AAAA;AAAA,gBAWTgB,KAAK,CAACS,OAAN,CAAcI,aAXL;AAAA;AAAA;AAAA;;AAAA,6CAYLP,IAAI,CAAC;AAAEtB,cAAAA,IAAI,EAAE;AAAR,aAAD,CAZC;;AAAA;AAAA;AAAA,mBAgBNiB,MAAM,CAACa,KAAP,CAAa;AACjBA,cAAAA,KAAK,EAAEC,OAAO,CAAC,gCAAD,CADG;AAEjBC,cAAAA,SAAS,EAAE;AACTC,gBAAAA,EAAE,EAAEb,EAAE,CAACO,MAAH,CAAUC;AADL;AAFM,aAAb,CAhBM;;AAAA;AAeNM,YAAAA,YAfM,iBAsBZC,IAtBY,CAeND,YAfM;;AAAA,gBAwBTpB,UAAU,CAACM,EAAE,CAAClB,IAAH,CAAQG,IAAT,EAAe6B,YAAY,CAACE,MAA5B,CAxBD;AAAA;AAAA;AAAA;;AAAA,6CAyBLd,IAAI,CAAC;AAAEtB,cAAAA,IAAI,EAAE,oBAAR;AAA8B2B,cAAAA,MAAM,EAAE;AAAEC,gBAAAA,GAAG,EAAEM,YAAY,CAACD;AAApB;AAAtC,aAAD,CAzBC;;AAAA;AA4BdX,YAAAA,IAAI;AA5BU;AAAA;;AAAA;AAAA;AAAA;AA8BdA,YAAAA,IAAI,CAAC;AAAEtB,cAAAA,IAAI,EAAE;AAAR,aAAD,CAAJ;;AA9Bc;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GAAlB;;AAAA;AAAA;AAAA;AAAA","sourcesContent":["import Vue from \"vue\";\nimport VueRouter from \"vue-router\";\n\nimport Home from \"@/views/Home.vue\";\nimport Test from \"@/views/Test.vue\";\n\nimport Public from \"@/views/Public.vue\";\nimport Login from \"@/views/Public/Login.vue\";\n\nimport Organization from \"@/views/Organization.vue\";\nimport Blank from \"@/views/Organization/Blank.vue\";\nimport Rack from \"@/views/Organization/Rack.vue\";\nimport Racks from \"@/views/Organization/Racks.vue\";\n\nVue.use(VueRouter);\n\nconst routes = [\n  {\n    path: \"/\",\n    name: \"home\",\n    component: Home,\n    meta: { public: true },\n  },\n  {\n    path: \"/\",\n    component: Public,\n    children: [\n      {\n        path: \"/login\",\n        name: \"login\",\n        component: Login,\n        meta: { public: true },\n      },\n    ],\n  },\n  // {\n  //   path: \"/about\",\n  //   name: \"About\",\n  //   // route level code-splitting\n  //   // this generates a separate chunk (about.[hash].js) for this route\n  //   // which is lazy-loaded when the route is visited.\n  //   component: () =>\n  //     import(/* webpackChunkName: \"about\" */ \"../views/About.vue\")\n  // },\n  {\n    path: \"/test\",\n    name: \"Test\",\n    component: Test,\n  },\n  {\n    path: \"/organizations/:oid\",\n    name: \"organization\",\n    component: Organization,\n    children: [\n      {\n        path: \"audits\",\n        name: \"organization/audits\",\n        component: Blank,\n        meta: { role: \"operator\" },\n      },\n      {\n        path: \"billing\",\n        name: \"organization/billing\",\n        component: Blank,\n        meta: { role: \"administrator\" },\n      },\n      {\n        path: \"integrations\",\n        name: \"organization/integrations\",\n        component: Blank,\n        meta: { role: \"operator\" },\n      },\n      {\n        path: \"jobs\",\n        name: \"organization/jobs\",\n        component: Blank,\n        meta: { role: \"developer\" },\n      },\n      {\n        path: \"racks\",\n        name: \"organization/racks\",\n        component: Racks,\n        meta: { role: \"developer\" },\n      },\n      {\n        path: \"racks/:rid\",\n        name: \"organization/rack\",\n        component: Rack,\n        children: [\n          {\n            path: \"apps\",\n            name: \"organization/rack/apps\",\n            component: Blank,\n            meta: { expand: true, role: \"developer\" },\n          },\n          {\n            path: \"instances\",\n            name: \"organization/rack/instances\",\n            component: Blank,\n            meta: { expand: true, role: \"developer\" },\n          },\n          {\n            path: \"resources\",\n            name: \"organization/rack/resources\",\n            component: Blank,\n            meta: { expand: true, role: \"developer\" },\n          },\n          {\n            path: \"settings\",\n            name: \"organization/rack/settings\",\n            component: Blank,\n            meta: { role: \"developer\" },\n          },\n          {\n            path: \"updates\",\n            name: \"organization/rack/updates\",\n            component: Blank,\n            meta: { expand: true, role: \"developer\" },\n          },\n        ],\n      },\n      {\n        path: \"settings\",\n        name: \"organization/settings\",\n        component: Blank,\n        meta: { role: \"administrator\" },\n      },\n      {\n        path: \"support\",\n        name: \"organization/support\",\n        component: Blank,\n        meta: { role: \"developer\" },\n      },\n      {\n        path: \"users\",\n        name: \"organization/users\",\n        component: Blank,\n        meta: { role: \"administrator\" },\n      },\n      {\n        path: \"workflows\",\n        name: \"organization/workflows\",\n        component: Blank,\n        meta: { role: \"operator\" },\n      },\n    ],\n  },\n];\n\nconst router = new VueRouter({\n  base: process.env.BASE_URL,\n  linkActiveClass: \"active\",\n  mode: \"history\",\n  routes,\n});\n\nexport default router;\n\nimport { accessible } from \"@/scripts/access\";\nimport { createProvider } from \"@/vue-apollo\";\nimport store from \"@/store\";\n\nconst apollo = createProvider().defaultClient;\n\nrouter.beforeEach(async (to, from, next) => {\n  if (to.meta.public) {\n    return next();\n  }\n  console.log(\"store.getters.token\", store.getters.token);\n\n  try {\n    if (!to.params.oid) {\n      return next({ name: \"login\" });\n    }\n\n    if (!store.getters.authenticated) {\n      return next({ name: \"login\" });\n    }\n\n    const { organization } = (\n      await apollo.query({\n        query: require(\"@/queries/Organization.graphql\"),\n        variables: {\n          id: to.params.oid,\n        },\n      })\n    ).data;\n\n    if (!accessible(to.meta.role, organization.access)) {\n      return next({ name: \"organization/racks\", params: { oid: organization.id } });\n    }\n\n    next();\n  } catch {\n    next({ name: \"login\" });\n  }\n});\n"]}]}