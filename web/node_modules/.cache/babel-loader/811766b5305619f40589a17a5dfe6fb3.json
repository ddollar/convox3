{"remainingRequest":"/Users/david/Code/convox/console3/web/node_modules/thread-loader/dist/cjs.js!/Users/david/Code/convox/console3/web/node_modules/babel-loader/lib/index.js!/Users/david/Code/convox/console3/web/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/david/Code/convox/console3/web/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/david/Code/convox/console3/web/src/views/Public/Login.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/david/Code/convox/console3/web/src/views/Public/Login.vue","mtime":1596461308509},{"path":"/Users/david/Code/convox/console3/web/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/david/Code/convox/console3/web/node_modules/thread-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/david/Code/convox/console3/web/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/david/Code/convox/console3/web/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/david/Code/convox/console3/web/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuam9pbiI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5Lm1hcCI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC50by1zdHJpbmciOwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwppbXBvcnQgJCBmcm9tICJqcXVlcnkiOwppbXBvcnQgQXV0aGVudGljYXRpb24gZnJvbSAiQC9taXhpbnMvQXV0aGVudGljYXRpb24iOwpleHBvcnQgZGVmYXVsdCB7CiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIGVtYWlsOiAiIiwKICAgICAgcGFzc3dvcmQ6ICIiCiAgICB9OwogIH0sCiAgbWV0aG9kczogewogICAgc3VibWl0OiBmdW5jdGlvbiBzdWJtaXQoZXZlbnQpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAgIGV2ZW50LnRhcmdldC5kaXNhYmxlZCA9IHRydWU7CiAgICAgIHRoaXMuJGFwb2xsby5tdXRhdGUoewogICAgICAgIG11dGF0aW9uOiByZXF1aXJlKCJAL3F1ZXJpZXMvTG9naW4uZ3JhcGhxbCIpLAogICAgICAgIHZhcmlhYmxlczogewogICAgICAgICAgZW1haWw6IHRoaXMuJGRhdGEuZW1haWwsCiAgICAgICAgICBwYXNzd29yZDogdGhpcy4kZGF0YS5wYXNzd29yZAogICAgICAgIH0KICAgICAgfSkudGhlbihmdW5jdGlvbiAocmVzdWx0KSB7CiAgICAgICAgX3RoaXMubG9naW4ocmVzdWx0LmRhdGEubG9naW4udG9rZW4pOwogICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZXJyb3IpIHsKICAgICAgICB2YXIgbWVzc2FnZSA9IGVycm9yLmdyYXBoUUxFcnJvcnMubWFwKGZ1bmN0aW9uIChlcnIpIHsKICAgICAgICAgIHJldHVybiBlcnIubWVzc2FnZTsKICAgICAgICB9KS5qb2luKCIsICIpOwoKICAgICAgICBpZiAobWVzc2FnZSAhPSAiIikgewogICAgICAgICAgdmFyIGFsZXJ0ID0gJCgiI2xvZ2luLWFsZXJ0Iik7CiAgICAgICAgICBhbGVydC5odG1sKG1lc3NhZ2UpOwogICAgICAgICAgYWxlcnQucmVtb3ZlQ2xhc3MoImQtbm9uZSIpOwogICAgICAgICAgYWxlcnQuYWRkQ2xhc3MoImQtZmxleCIpOwogICAgICAgICAgYWxlcnQuY3NzKCJvcGFjaXR5IiwgIjAlIik7CiAgICAgICAgICBhbGVydC5hbmltYXRlKHsKICAgICAgICAgICAgb3BhY2l0eTogIjEwMCUiCiAgICAgICAgICB9LCBmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgIHdpbmRvdy5zZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgICBhbGVydC5hbmltYXRlKHsKICAgICAgICAgICAgICAgIG9wYWNpdHk6ICIwJSIKICAgICAgICAgICAgICB9LCBmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgICBhbGVydC5yZW1vdmVDbGFzcygiZC1mbGV4Iik7CiAgICAgICAgICAgICAgICBhbGVydC5hZGRDbGFzcygiZC1ub25lIik7CiAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIH0sIDgwMCk7CiAgICAgICAgICB9KTsKICAgICAgICB9CiAgICAgIH0pLmZpbmFsbHkoZnVuY3Rpb24gKCkgewogICAgICAgIF90aGlzLiRyb3V0ZXIucHVzaCh7CiAgICAgICAgICBuYW1lOiAiaG9tZSIKICAgICAgICB9KTsKICAgICAgfSk7CiAgICB9CiAgfSwKICBtaXhpbnM6IFtBdXRoZW50aWNhdGlvbl0KfTs="},{"version":3,"sources":["Login.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAmCA,OAAA,CAAA,MAAA,QAAA;AAEA,OAAA,cAAA,MAAA,yBAAA;AAEA,eAAA;AACA,EAAA,IADA,kBACA;AACA,WAAA;AACA,MAAA,KAAA,EAAA,EADA;AAEA,MAAA,QAAA,EAAA;AAFA,KAAA;AAIA,GANA;AAOA,EAAA,OAAA,EAAA;AACA,IAAA,MADA,kBACA,KADA,EACA;AAAA;;AACA,MAAA,KAAA,CAAA,MAAA,CAAA,QAAA,GAAA,IAAA;AACA,WAAA,OAAA,CACA,MADA,CACA;AACA,QAAA,QAAA,EAAA,OAAA,CAAA,yBAAA,CADA;AAEA,QAAA,SAAA,EAAA;AACA,UAAA,KAAA,EAAA,KAAA,KAAA,CAAA,KADA;AAEA,UAAA,QAAA,EAAA,KAAA,KAAA,CAAA;AAFA;AAFA,OADA,EAQA,IARA,CAQA,UAAA,MAAA,EAAA;AACA,QAAA,KAAA,CAAA,KAAA,CAAA,MAAA,CAAA,IAAA,CAAA,KAAA,CAAA,KAAA;AACA,OAVA,EAWA,KAXA,CAWA,UAAA,KAAA,EAAA;AACA,YAAA,OAAA,GAAA,KAAA,CAAA,aAAA,CAAA,GAAA,CAAA,UAAA,GAAA;AAAA,iBAAA,GAAA,CAAA,OAAA;AAAA,SAAA,EAAA,IAAA,CAAA,IAAA,CAAA;;AACA,YAAA,OAAA,IAAA,EAAA,EAAA;AACA,cAAA,KAAA,GAAA,CAAA,CAAA,cAAA,CAAA;AACA,UAAA,KAAA,CAAA,IAAA,CAAA,OAAA;AACA,UAAA,KAAA,CAAA,WAAA,CAAA,QAAA;AACA,UAAA,KAAA,CAAA,QAAA,CAAA,QAAA;AACA,UAAA,KAAA,CAAA,GAAA,CAAA,SAAA,EAAA,IAAA;AACA,UAAA,KAAA,CAAA,OAAA,CAAA;AAAA,YAAA,OAAA,EAAA;AAAA,WAAA,EAAA,YAAA;AACA,YAAA,MAAA,CAAA,UAAA,CAAA,YAAA;AACA,cAAA,KAAA,CAAA,OAAA,CAAA;AAAA,gBAAA,OAAA,EAAA;AAAA,eAAA,EAAA,YAAA;AACA,gBAAA,KAAA,CAAA,WAAA,CAAA,QAAA;AACA,gBAAA,KAAA,CAAA,QAAA,CAAA,QAAA;AACA,eAHA;AAIA,aALA,EAKA,GALA;AAMA,WAPA;AAQA;AACA,OA5BA,EA6BA,OA7BA,CA6BA,YAAA;AACA,QAAA,KAAA,CAAA,OAAA,CAAA,IAAA,CAAA;AACA,UAAA,IAAA,EAAA;AADA,SAAA;AAGA,OAjCA;AAkCA;AArCA,GAPA;AA8CA,EAAA,MAAA,EAAA,CAAA,cAAA;AA9CA,CAAA","sourcesContent":["<template>\n  <div class=\"row\">\n    <div class=\"col-sm-10 offset-sm-1 col-md-8 offset-md-2 col-lg-6 offset-lg-3 col-xl-4 offset-xl-4\">\n      <div class=\"card\">\n        <div class=\"card-header\">Login</div>\n        <div class=\"position-relative d-flex\">\n          <div class=\"card-body\">\n            <div class=\"form-group\">\n              <label for=\"login-email\">Email</label>\n              <input id=\"login-email\" class=\"form-control\" type=\"email\" v-model=\"email\" />\n            </div>\n            <div class=\"form-group\">\n              <label for=\"login-password\">Password</label>\n              <input id=\"login-password\" class=\"form-control\" type=\"password\" v-model=\"password\" />\n            </div>\n          </div>\n          <div\n            id=\"login-alert\"\n            class=\"alert alert-danger rounded-0 h-100 w-100 position-absolute d-none align-items-center justify-content-center\"\n          ></div>\n        </div>\n        <div class=\"card-footer d-flex align-items-center\">\n          <div class=\"flex-fill\">\n            <a href>Forgot Password</a>\n          </div>\n          <div class=\"flex-fill text-right\">\n            <button id=\"login\" class=\"btn btn-primary\" @click=\"submit($event)\">Login</button>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport $ from \"jquery\";\n\nimport Authentication from \"@/mixins/Authentication\";\n\nexport default {\n  data() {\n    return {\n      email: \"\",\n      password: \"\",\n    };\n  },\n  methods: {\n    submit(event) {\n      event.target.disabled = true;\n      this.$apollo\n        .mutate({\n          mutation: require(\"@/queries/Login.graphql\"),\n          variables: {\n            email: this.$data.email,\n            password: this.$data.password,\n          },\n        })\n        .then((result) => {\n          this.login(result.data.login.token);\n        })\n        .catch((error) => {\n          var message = error.graphQLErrors.map((err) => err.message).join(\", \");\n          if (message != \"\") {\n            var alert = $(\"#login-alert\");\n            alert.html(message);\n            alert.removeClass(\"d-none\");\n            alert.addClass(\"d-flex\");\n            alert.css(\"opacity\", \"0%\");\n            alert.animate({ opacity: \"100%\" }, () => {\n              window.setTimeout(() => {\n                alert.animate({ opacity: \"0%\" }, () => {\n                  alert.removeClass(\"d-flex\");\n                  alert.addClass(\"d-none\");\n                });\n              }, 800);\n            });\n          }\n        })\n        .finally(() => {\n          this.$router.push({\n            name: \"home\",\n          });\n        });\n    },\n  },\n  mixins: [Authentication],\n};\n</script>\n"],"sourceRoot":"src/views/Public"}]}