{"remainingRequest":"/Users/david/Code/convox/console3/web/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/david/Code/convox/console3/web/src/views/Public/Login.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/david/Code/convox/console3/web/src/views/Public/Login.vue","mtime":1596461308509},{"path":"/Users/david/Code/convox/console3/web/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/david/Code/convox/console3/web/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/david/Code/convox/console3/web/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/david/Code/convox/console3/web/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCAkIGZyb20gImpxdWVyeSI7CgppbXBvcnQgQXV0aGVudGljYXRpb24gZnJvbSAiQC9taXhpbnMvQXV0aGVudGljYXRpb24iOwoKZXhwb3J0IGRlZmF1bHQgewogIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBlbWFpbDogIiIsCiAgICAgIHBhc3N3b3JkOiAiIiwKICAgIH07CiAgfSwKICBtZXRob2RzOiB7CiAgICBzdWJtaXQoZXZlbnQpIHsKICAgICAgZXZlbnQudGFyZ2V0LmRpc2FibGVkID0gdHJ1ZTsKICAgICAgdGhpcy4kYXBvbGxvCiAgICAgICAgLm11dGF0ZSh7CiAgICAgICAgICBtdXRhdGlvbjogcmVxdWlyZSgiQC9xdWVyaWVzL0xvZ2luLmdyYXBocWwiKSwKICAgICAgICAgIHZhcmlhYmxlczogewogICAgICAgICAgICBlbWFpbDogdGhpcy4kZGF0YS5lbWFpbCwKICAgICAgICAgICAgcGFzc3dvcmQ6IHRoaXMuJGRhdGEucGFzc3dvcmQsCiAgICAgICAgICB9LAogICAgICAgIH0pCiAgICAgICAgLnRoZW4oKHJlc3VsdCkgPT4gewogICAgICAgICAgdGhpcy5sb2dpbihyZXN1bHQuZGF0YS5sb2dpbi50b2tlbik7CiAgICAgICAgfSkKICAgICAgICAuY2F0Y2goKGVycm9yKSA9PiB7CiAgICAgICAgICB2YXIgbWVzc2FnZSA9IGVycm9yLmdyYXBoUUxFcnJvcnMubWFwKChlcnIpID0+IGVyci5tZXNzYWdlKS5qb2luKCIsICIpOwogICAgICAgICAgaWYgKG1lc3NhZ2UgIT0gIiIpIHsKICAgICAgICAgICAgdmFyIGFsZXJ0ID0gJCgiI2xvZ2luLWFsZXJ0Iik7CiAgICAgICAgICAgIGFsZXJ0Lmh0bWwobWVzc2FnZSk7CiAgICAgICAgICAgIGFsZXJ0LnJlbW92ZUNsYXNzKCJkLW5vbmUiKTsKICAgICAgICAgICAgYWxlcnQuYWRkQ2xhc3MoImQtZmxleCIpOwogICAgICAgICAgICBhbGVydC5jc3MoIm9wYWNpdHkiLCAiMCUiKTsKICAgICAgICAgICAgYWxlcnQuYW5pbWF0ZSh7IG9wYWNpdHk6ICIxMDAlIiB9LCAoKSA9PiB7CiAgICAgICAgICAgICAgd2luZG93LnNldFRpbWVvdXQoKCkgPT4gewogICAgICAgICAgICAgICAgYWxlcnQuYW5pbWF0ZSh7IG9wYWNpdHk6ICIwJSIgfSwgKCkgPT4gewogICAgICAgICAgICAgICAgICBhbGVydC5yZW1vdmVDbGFzcygiZC1mbGV4Iik7CiAgICAgICAgICAgICAgICAgIGFsZXJ0LmFkZENsYXNzKCJkLW5vbmUiKTsKICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgIH0sIDgwMCk7CiAgICAgICAgICAgIH0pOwogICAgICAgICAgfQogICAgICAgIH0pCiAgICAgICAgLmZpbmFsbHkoKCkgPT4gewogICAgICAgICAgdGhpcy4kcm91dGVyLnB1c2goewogICAgICAgICAgICBuYW1lOiAiaG9tZSIsCiAgICAgICAgICB9KTsKICAgICAgICB9KTsKICAgIH0sCiAgfSwKICBtaXhpbnM6IFtBdXRoZW50aWNhdGlvbl0sCn07Cg=="},{"version":3,"sources":["Login.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAmCA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Login.vue","sourceRoot":"src/views/Public","sourcesContent":["<template>\n  <div class=\"row\">\n    <div class=\"col-sm-10 offset-sm-1 col-md-8 offset-md-2 col-lg-6 offset-lg-3 col-xl-4 offset-xl-4\">\n      <div class=\"card\">\n        <div class=\"card-header\">Login</div>\n        <div class=\"position-relative d-flex\">\n          <div class=\"card-body\">\n            <div class=\"form-group\">\n              <label for=\"login-email\">Email</label>\n              <input id=\"login-email\" class=\"form-control\" type=\"email\" v-model=\"email\" />\n            </div>\n            <div class=\"form-group\">\n              <label for=\"login-password\">Password</label>\n              <input id=\"login-password\" class=\"form-control\" type=\"password\" v-model=\"password\" />\n            </div>\n          </div>\n          <div\n            id=\"login-alert\"\n            class=\"alert alert-danger rounded-0 h-100 w-100 position-absolute d-none align-items-center justify-content-center\"\n          ></div>\n        </div>\n        <div class=\"card-footer d-flex align-items-center\">\n          <div class=\"flex-fill\">\n            <a href>Forgot Password</a>\n          </div>\n          <div class=\"flex-fill text-right\">\n            <button id=\"login\" class=\"btn btn-primary\" @click=\"submit($event)\">Login</button>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport $ from \"jquery\";\n\nimport Authentication from \"@/mixins/Authentication\";\n\nexport default {\n  data() {\n    return {\n      email: \"\",\n      password: \"\",\n    };\n  },\n  methods: {\n    submit(event) {\n      event.target.disabled = true;\n      this.$apollo\n        .mutate({\n          mutation: require(\"@/queries/Login.graphql\"),\n          variables: {\n            email: this.$data.email,\n            password: this.$data.password,\n          },\n        })\n        .then((result) => {\n          this.login(result.data.login.token);\n        })\n        .catch((error) => {\n          var message = error.graphQLErrors.map((err) => err.message).join(\", \");\n          if (message != \"\") {\n            var alert = $(\"#login-alert\");\n            alert.html(message);\n            alert.removeClass(\"d-none\");\n            alert.addClass(\"d-flex\");\n            alert.css(\"opacity\", \"0%\");\n            alert.animate({ opacity: \"100%\" }, () => {\n              window.setTimeout(() => {\n                alert.animate({ opacity: \"0%\" }, () => {\n                  alert.removeClass(\"d-flex\");\n                  alert.addClass(\"d-none\");\n                });\n              }, 800);\n            });\n          }\n        })\n        .finally(() => {\n          this.$router.push({\n            name: \"home\",\n          });\n        });\n    },\n  },\n  mixins: [Authentication],\n};\n</script>\n"]}]}